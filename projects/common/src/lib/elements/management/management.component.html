<div class="spread">
  <ng-container *ngIf="!Loading">
    <ng-container *ngIf="!ActiveApp && !ActiveFixedApp">
      <lcu-data-apps-list
        [access-right-options]="State.AccessRightOptions"
        [applications]="State.Applications"
        [daf-app-options]="State.DAFAppOptions"
        [fixed-applications]="State.FixedApplications"
        [supported-daf-app-types]="State.SupportedDAFAppTypes"
        [zip-app-options]="State.ZipAppOptions"
        (daf-app-saved)="SaveDAFApp($event)"
        (settings)="AppSettingsClick($event)"
        (upload-zip-files)="UploadZips($event)"
      ></lcu-data-apps-list>
    </ng-container>

    <ng-container *ngIf="ActiveApp || ActiveFixedApp">
      <ng-template #modalContent></ng-template>
      <lcu-data-app-view
        [access-right-options]="State.AccessRightOptions"
        [active-daf-application]="State.ActiveDAFAppID"
        [application]="ActiveApp || ActiveFixedApp"
        [app-paths]="ApplicationPaths"
        [current-application-tab]="State.CurrentApplicationTab"
        [daf-app-options]="State.DAFAppOptions"
        [daf-applications]="State.DAFApplications"
        [loading]="State.Loading || State.ZipLoading"
        [supported-daf-app-types]="State.SupportedDAFAppTypes"
        [zip-app-options]="State.ZipAppOptions"
        (application-tab-click)="SetApplicationTab($event)"
        (back-click)="BackClick()"
        (daf-app-saved)="SaveDAFApp($event)"
        (delete)="DAFAppDeleteClick($event)"
        (settings)="DAFAppSettingsClick($event)"
        (upload-zip-files)="UploadZips($event)"
      ></lcu-data-app-view>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="Loading">
    <mat-spinner></mat-spinner>
  </ng-container>
</div>
